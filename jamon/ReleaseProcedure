General points:
* Since maven fails to understand usernames in scpexe urls, ensure ~/.ssh/config contains:
  Host maven.jamon.org
  User jamon
* Since maven cannot ask for passwords during release:perform,
  you'll need an ssh-agent set up that has credentials to reach jamon@maven.jamon.org.
* For hygene purposes, you should have a settings file in ~/.m2jamon/settings.xml:

<?xml version="1.0" encoding="UTF-8"?>
<settings>
  <localRepository>${user.home}/.m2jamon/repository</localRepository>
</settings>

  Prior to any release, rm -rf ~/.m2jamon/repository

* Update docs to reflect release.
* Run svn up to get latest version number set
* For each maven module being released:
** Update all SNAPSHOT versions to the latest released version.
** Run (in zsh):
  read -s password; mvn -s ~/.m2jamon/settings.xml -Dusername=yourSourceForgeUserNameHere -Dpassword=$password release:prepare; unset password
** Run mvn -s ~/.m2jamon/settings.xml release:perform
** Run svn revert pom.xml
* If necessary, build jamonStdLib
* generate new site docs
** Docs can be viewed via mvn -s ~/.m2jamon/settings.xml package and looking in target/www.
** Trial deploy: mvn -s ~/.m2jamon/settings.xml site:deploy goes to www-stg.jamon.org.
** To release
*** Run (in zsh):
  read -s password; mvn -s ~/.m2jamon/settings.xml -Dusername=yourSourceForgeUserNameHere -Dpassword=$password release:prepare; unset password
  -- use current date (YYYY.MM.DD) for the version.
*** Run mvn -s ~/.m2jamon/settings.xml release:perform
*** Run svn revert pom.xml

* Update versions in jamon-dist, run jamon-package.
* Upload dist files to sourceforge:
** Log into sourceforge.
** Navigate to https://sourceforge.net/projects/jamon/files/jamon/
** Create a new folder, jamon-dist-YYYY.MM.DD
** Upload the tar.gz and zip files from jamon-dist/target.
** Clicking on the info button for each file, mark the zip file the
   default download for Windows and Other, and the tar.gz file the
   default download for Linux, Solaris, FreeBSD and Mac.,

OLD SCHOOL ECLIPSE RELEASE

* Copy jamon-X.Y.Z.jar to corePlugin
* Update version numbers for corePlugin, uiPlugin and jamonFeature
* Build the plugin in eclipse by opening site.xml in updateSite and clicking on "Build All"
* In updateSite, run "ant push"
* In update site, run "ant localSite".  Upload the resulting jamon-updateSite-X.Y.Z.Q.zip file
   to SourceForge under the jamon-eclipse-plugin package, as described above.
* svn copy https://jamon.svn.sourceforge.net/svnroot/jamon/trunk/eclipse \
     https://jamon.svn.sourceforge.net/svnroot/jamon/tags/JAMON-ECLIPSE-X_Y_Z_0-RELEASE
  (note - if releasing off of a branch, copy from there!)
* Build and release maven code
** Get jamon-x.y.z.jar and jamon-anttask-x.y.z.jar from SF
** Deploy both to maven.jamon.org via
    mvn -s ~/.m2jamon/settings.xml -DgroupId=org.jamon -DartifactId=jamon \
     -Dversion=2.2.1 -Dfile=jamon-2.2.1.jar -Dpackaging=jar -DrepositoryId=jamon \
     -Durl=scpexe://jamon@maven.jamon.org/home/jamon/maven2 deploy:deploy-file
    mvn -s ~/.m2jamon/settings.xml -DgroupId=org.jamon -DartifactId=jamon-anttask \
     -Dversion=2.2.1 -Dfile=jamon-anttask-2.2.1.jar -Dpackaging=jar -DrepositoryId=jamon \
     -Durl=scpexe://jamon@maven.jamon.org/home/jamon/maven2 deploy:deploy-file
** Edit mvn2-plugin/pom.xml updating the dependency versions and the pom version
** Commit to the tag branch (this yuckiness goes away with repo restructuring)
** Commit a similar pom.xml change to trunk, just adding '-SNAPSHOT' to pom version
* Push docs to site (FIXME - HOW?  maybe mvn deploy?)

TYCHO RELEASE

* Because tycho is still in a half-baked state, the maven release plugin will not work.
  Instead, do the following, where ${VERSION} is the release version and ${COMPONENT}
  is the component (jamon-editor, jamon-processor or jamon-maven-configurator):

  svn copy \
    https://jamon.svn.sourceforge.net/svnroot/jamon/trunk/eclipse/${COMPONENT} \
    https://jamon.svn.sourceforge.net/svnroot/jamon/releases/${COMPONENT}/${COMPONENT}-${VERSION} \
    -m "tag for release ${VERSION}"

  svn co https://jamon.svn.sourceforge.net/svnroot/jamon/releases/${COMPONENT}/${COMPONENT}-${VERSION} \

  cd ${COMPONENT}-${VERSION}

  mvn3 -s ~/.m2jamon/settings.xml org.sonatype.tycho:tycho-versions-plugin:set-version -DnewVersion=${VERSION}

  svn commit -m "prepare for release of version ${VERSION}"

  mvn -s ~/.m2jamon/settings.xml clean install

  Then in a checked-out version of update-site, run

  mvn -s ~/.m2jamon/settings.xml clean package

  Copy the updated files into updateSite/p2.

* Email release mailing list.

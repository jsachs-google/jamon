<?xml version="1.0"?>

<project name="meta" default="test1">

  <description>
    Meta build script for Jamon.  From this script one can
    compile the Jamon engine (project 'core') and the exercise it (project
    'integration').
  </description>

  <property file="build.properties"/>
  <property file="${user.home}/.ant.properties"/>

  <target name="test1"
          depends="compiler"
          description="Run the demo">
    <ant dir="integration" target="test1">
      <property name="java.lib.jamon" value="${basedir}/core/build/classes"/>
    </ant>
  </target>

  <target name="compiler" description="Build the compiler">
    <ant dir="core" target="build"/>
  </target>

  <target name="compile" description="Build every project">
    <ant dir="core" target="build"/>
    <ant dir="integration" target="compile"/>
    <ant dir="anttask" target="compile"/>
  </target>

  <target name="jar" description="Creates a JAR for core and anttask">
    <ant dir="core" target="jar"/>
    <ant dir="anttask" target="jar"/>
  </target>

  <target name="cvsignores" description="Generates cvsignore files">
    <ant dir="core" target="cvsignores"/>
    <ant dir="integration" target="cvsignores"/>
    <ant dir="anttask" target="cvsignores"/>
  </target>

  <target name="spotless"
          depends="">
    <ant dir="core" target="spotless"/>
    <ant dir="integration" target="spotless"/>
    <ant dir="anttask" target="spotless"/>
  </target>

</project>

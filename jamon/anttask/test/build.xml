<?xml version="1.0"?>

<project name="TestTask" default="test">

  <description>Test the Ant task for Jamon</description>

  <property file="build.properties"/>
  <property file="${user.home}/.ant.properties"/>

  <property name="build.dir" value="build" />
  <property name="test.src.dir" value="${build.dir}/src" />

  <target name="test">
    <taskdef name="jamon"
             classname="org.jamon.ant.JamonTask"
             classpath="../build/classes:../../core/build/classes"/>
    <mkdir dir="${test.src.dir}" />
    <jamon destdir="${test.src.dir}" generateImpls="true">
      <src path="templates"/>
    </jamon>
  </target>

  <target name="cvsignores">
    <echo file=".cvsignore">.cvsignore
${build.dir}
build.properties
</echo>
  </target>

  <target name="clean">
    <delete dir="${test.src.dir}" />
  </target>

  <target name="spotless">
    <delete dir="${build.dir}" />
    <delete file=".cvsignore" />
  </target>

</project>

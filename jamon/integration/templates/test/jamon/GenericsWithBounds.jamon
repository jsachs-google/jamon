<%doc>If this compiles, the test passes</%doc>
<%generic>T extends Number</%generic>
<%args>Iterable<T> list;</%args>
<%frag f>T element;</%frag>
% for(T t : list) {
<% t.doubleValue() %>
<&| d: t &><%args>T t;</%args><& f: t &></&>
%}
<%def d>
<%args>T t;</%args>
<%frag f>T element;</%frag>
<& f: t &>
<% t.doubleValue() %>
</%def>
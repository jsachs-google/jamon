<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title><& title &></title>
    <meta name="keywords" content="template,templates,typed,dynamic,text,java,MVC,render,model-view-controller,typesafety,typesafe"></meta>
    <link rel="SHORTCUT ICON" href="/favicon.ico">
    <link rel="StyleSheet" href="base.css" type="text/css" media="screen" />
  </head>

  <body>
    <h1 id="logo">Jamon</h1>

    <h3 id="tagline">a typed text template engine for Java</h3>

    <div id="header"></div>
    <div id="nav">
      <ul>
        <& _menuItem; section => Section.HOME; href => "index" &>
        <& _menuItem; section => Section.NEWS; href => "News" &>
        <& _menuItem; section => Section.DOWNLOAD; href => "Download" &>
        <& _menuItem; section => Section.DOCUMENTATION; href => "Documentation" &>
        <& _menuItem; section => Section.CONTACT; href => "Contact" &>
        <& _menuItem; section => Section.ABOUT; href => "About" &>
      </ul>
    </div>
    <div id="main">
      <& *CHILD &>
    </div>
  </body>
</html>

<%method title>
  <%doc>override me</%doc>
% throw new UnsupportedOperationException();
</%method>

<%def _menuItem>
  <%args>
    Section section;
    String href;
  </%args>
<li>
  <a href="<% href #u %>.html" \
% if (section == currentSection()) {
  id="current"\
% }
><% section %></a>
</li>
</%def>

<%class>
  protected static class Section
  {
    private Section(String p_name)
    {
      m_name = p_name;
    }

    public String toString()
    {
      return m_name;
    }

    public static Section HOME = new Section("Home");
    public static Section NEWS = new Section("News");
    public static Section DOWNLOAD = new Section("Download");
    public static Section DOCUMENTATION = new Section("Documentation");
    public static Section CONTACT = new Section("Contact");
    public static Section ABOUT = new Section("About");

    private final String m_name;
  }

  protected abstract Section currentSection();
</%class>
